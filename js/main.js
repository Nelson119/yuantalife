"use strict";var app={};app.partial={},($||jQuery)&&(app.$=$||jQuery),function(t){t(function(){t.each(app.partial,function(e,o){var a=t("[role="+e+"]");o(t,a),a.trigger("page:update")}),app.imageReload.callback=function(){t("[role=content]").addClass("loaded")},app.imageReload.init()})}(app.$);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};app.utility=new function(){var t=app.$;t.fn.hasAttr=function(e){var o=t(this).attr(e);return"undefined"!==("undefined"==typeof o?"undefined":_typeof(o))&&o!==!1},this.share={facebook:function(t,e){t=encodeURIComponent(t||location.href+"?utm_source=facebook&utm_medium=fbshare_m&utm_campaign=camp"),e=encodeURIComponent(e||document.title),window.open("https://www.facebook.com/sharer.php?u="+t+"&amp;t="+e)},googleplus:function(t){t=encodeURIComponent(t||location.href+"?utm_source=g+&utm_medium=googleplus_m&utm_campaign=camp"),window.open("https://plus.google.com/share?url="+t,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")},email:function(t,e){t=encodeURIComponent(t||location.href+"?utm_source=email&utm_medium=email_m&utm_campaign=camp"),e=encodeURIComponent(e||document.title);var o=encodeURIComponent(""+t+" #"+e);window.open("https://mail.google.com/mail/?view=cm&fs=1&to=&su=與你分享:"+e+"&body="+o+"&bcc=")}},this.getParam=function(t){var e=new RegExp("^.*[?&]"+t+"[=]([^&]+).*$","i");if(!e.test(location.search))return null;var o=location.search.replace(e,"$1");return decodeURIComponent(o)}},app.partial.preload=function(t){function e(e){function o(e){n[e]=!0;var o=!0;t.each(n,function(t,e){o=e&&o}),o&&a()}function a(){"function"==typeof app.imageReload.callback&&app.imageReload.callback()}var n={},i=[],r=t("img[data-src]:visible, figure[data-src]:visible").not(".loaded");r.each(function(e,o){t(o).attr("data-src")&&(n[t(o).attr("data-src")]=!1,i.push(o))}),t.each(n,function(e,a){if(/\.svg$/.test(e))t.get(e,function(a){t(i).filter(function(){return e==t(this).attr("data-src")}).each(function(e,o){t(o).addClass("loaded"),"img"===o.tagName.toLowerCase()?(t("svg",a).clone().attr("class",t(o).attr("class")).insertAfter(o),t(o).remove()):t(o).removeAttr("data-src").html(t("svg",a).clone())});o(e)});else{var n=new Image;n.onload=function(){t(i).filter(function(){return e==t(this).attr("data-src")}).each(function(e,o){t(o).addClass("loaded"),"img"===o.tagName.toLowerCase()?t(o).attr("src",t(o).attr("data-src")):t(o).css("background-image","url("+t(o).attr("data-src")+")")});o(e)},n.src=e}}),r.length||a()}app.dementions={mobile:!1,desktop:!1},app.imageReload={init:function(){t(window).on("resize",function(){t("img[data-src]:visible, figure[data-src]:visible").not("[src],[style]");e(function(){})}).trigger("resize")},refresh:function(){t(window).trigger("resize")},callback:function(){}}};